<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width-device-width, initial-scale=1.0 user-scalable=no'>
    <link rel="stylesheet" href="css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="css/style.css">
    <title>health.js</title>
  </head>

  <body>

    <!-- Navbar -->
    <nav>
      <span class='title'>
        <button class='buffer' href='#menu'>
            <i class='fa fa-bars fa-fw'></i></button>
        <span>health.js</span>
      </span>

      <span class='time'>
        <div data-scope='time'>
            <button data-fn='prev'><i class='fa fa-angle-double-left fa-fw'></i></button>
            <button data-fn='now'><i class='fa fa-home fa-fw'></i></button>
            <span data-scope='date'><script>document.querySelector("span[data-scope='date']").innerHTML = new Date().toLocaleDateString()</script></span>
            <button data-fn='edit'><i class='fa fa-plus fa-fw'></i></button>
            <button data-fn='next'><i class='fa fa-angle-double-right fa-fw'></i></button>
        </div>
      </span>
    </nav>

    <!-- Menu -->
    <div data-scope='menu' style='display: visible' class='rounded'>
      <menu data-scope='menu'>
        <button class='buffer' href='#food'>
            <i class='fa fa-cutlery fa-fw'></i> Food</button><br>
        <button class='buffer' href='#settings'>
          <i class='fa fa-cogs fa-fw'></i> Settings</button><br>
          <!--
        <button class='buffer' href='#analysis'>
          <i class='fa fa-area-chart fa-fw'></i> Weight Analysis</button><br>
        <button class='buffer' href='#about'>
          <i class='fa fa-info-circle fa-fw'></i> About</button><br>
          -->
      </menu>
    </div>

    <!-- Food -->
    <div data-scope='food' style='display:none'>

      <template class='entry pure-g' data-template='entry'>
        <div class='rounded'>
          <div class='pure-u-5-24'>{{name}}</div>
          <div class='pure-u-10-24'>kcal: {{calories}}<br>protein: {{protein}}<br></div>
          <div class='pure-u-6-24'>
            <button data-fn='modify'><i class='fa fa-pencil fa-fw'></i></button>
            <button data-fn='remove'><i class="fa fa-times-circle fa-fw"></i></button>
          </div>
        </div>
      </template>

      <template class='label' data-template='total'>
        <div data-scope='total'>
          Total: {{calories}} calories / {{protein}} protein
        </div>
      </template>

        <div class='entry pure-g thin'>
          <div class='rounded'>
          <div class='pure-u-5-24'>Item</div>
          <div class='pure-u-10-24'>Nutrition</div>
          <div class='pure-u-6-24'>Action</div>
        </div>
        <inject></inject>
      </div>
      <total class="entry"></total>


    </div>

    <!-- Edit -->
    <div data-scope='edit' style='display: none'>
      <form class='padding pure-form'>
        <fieldset class="pure-group fields" data-scope='stats'>
          <input type="text"   class="pure-input-1" placeholder='Name'>
          <input type="number" class="pure-input-1" placeholder='Calories' pattern="[\d]*">
          <input type="number" class="pure-input-1" placeholder='Protein' pattern="[\d]*">
        </fieldset>
        <div class='pure-g'>
          <div class='pure-u-11-24'><button type='button' class="pure-button pure-input-1 affirm" data-fn='edit'>Add / Modify</button></div>
          <div class='pure-u-1-24'></div> 
          <div class='pure-u-12-24'><button type='button' class="pure-button pure-input-1 cancel" data-fn='cancel'>Cancel</button></div>
        </div>
      </form>
    </div>

    <!-- Settings -->
    <div data-scope='settings' style='display: none'>
      <form class='padding pure-form'>
        <fieldset class="pure-group fields" data-scope='stats'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='remoteStorage.io account'>
        </fieldset>
        <div class='pure-g'>
          <div class='pure-u-11-24'><button type='button' class="pure-button pure-input-1 affirm" data-fn='connect'>Connect</button></div>
          <div class='pure-u-1-24'></div> 
          <div class='pure-u-12-24'><button type='button' class="pure-button pure-input-1 cancel" data-fn='disconnect'>Disconnect</button></div>
        </div>
      </form>

    </div>
    
    <!-- lib -->
    <script src='js/lib/tinytim.min.js'></script>
    <script src='js/lib/routie.min.js'></script>
    <script src='js/lib/remotestorage.min.js'></script>

    <!-- core -->
    <script src='js/database.js'></script>
    <script src='js/time.js'></script>
    <script src='js/view.js'></script>
    <script src='js/event.js'></script>

    <!-- module -->
    <script src='js/menu.js'></script>
    <script src='js/edit.js'></script>
    <script src='js/food.js'></script>

    <script>
      /* routing */ window.location = '#menu';  routie('*', function(name) {View(name);});
      /* startup */ Food.Global({db: Database.Read(Time.Day()), totals: Database.Totals(Time.Day()), mode: "add"});
    </script>

  </body>
</html>
