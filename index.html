<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width-device-width, initial-scale=1.0 user-scalable=no'>
    <link rel="stylesheet" href="css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="css/style.css">
    <title>health.js</title>
  </head>
  <script src='js/lib/prototype.js'></script>
  <body>

    <!-- Navbar -->
    <nav data-scope='nav'>
      <span class='title'>
        <button class='buffer' href='#menu'>
            <i class='fa fa-bars fa-fw'></i></button>
      </span>

      <span class='time'>
        <div data-scope='time'>
            <button data-fn='prev'><i class='fa fa-angle-double-left fa-fw'></i></button>
            <button data-fn='now'><i class='fa fa-home fa-fw'></i></button>
            <span data-scope='date'><script>document.querySelector("span[data-scope='date']").innerHTML = new Date().mdy()</script></span>
            <button data-fn='edit'><i class='fa fa-plus fa-fw'></i></button>
            <button data-fn='next'><i class='fa fa-angle-double-right fa-fw'></i></button>
        </div>
      </span>
    </nav>

    <!-- Menu -->
    <div data-scope='menu' class='rounded' style='display: none;'>
      <menu data-scope='menu'>
        <button class='buffer' href='#food'>
            <i class='fa fa-cutlery fa-fw'></i> Food</button><br>
        <button class='buffer' href='#settings'>
          <i class='fa fa-cogs fa-fw'></i> Settings</button><br>
      </menu>
    </div>

    <!-- Settings -->
    <div data-scope='settings' style='display: none'>
      <form class='padding pure-form'>
        <fieldset class="pure-group fields" data-scope='stats'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Name'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Age'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Weight'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Height'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Inches'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Gender'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Current Weight'>
          <input type="text"   class="pure-input-1" data-type='rs' placeholder='Target Weight'>
        </fieldset>
      </form>
      <div class='button_pad'>
        <button type='button' class="pure-button pure-input-1 affirm" data-fn='edit'>Apply</button>
        <button type='button' class="pure-button pure-input-1 cancel" data-fn='cancel'>Cancel</button>
      </div>
    </div>

    <!-- Food -->
    <div data-scope='food' style='display: visible'>
      <template class='entry pure-g' data-template='entry'>
        <div class='rounded'>
          <div class='pure-u-5-24'>{{name}}</div>
          <div class='pure-u-10-24'>kcal: {{calories}}<br>protein: {{protein}}<br></div>
          <div class='pure-u-6-24'>
            <button data-fn='modify'><i class='fa fa-pencil fa-fw'></i></button>
            <button data-fn='remove'><i class="fa fa-times-circle fa-fw"></i></button>
          </div>
        </div>
      </template>

      <template class='label' data-template='total'>
        <div data-scope='total'>
          Total: {{calories}} calories / {{protein}} protein
        </div>
      </template>

      <div class='entry pure-u-g thin'>
        <div class='rounded'>
        <div class='pure-u-5-24'>Item</div>
        <div class='pure-u-10-24'>Nutrition</div>
        <div class='pure-u-6-24'>Action</div>
      </div>
      <inject></inject>
    </div>
    <total class="entry"></total>
    </div>

    <!-- Edit -->
    <div data-scope='edit' style='display:none;'>
      <form class='padding pure-form'>
        <fieldset class="pure-group fields" data-scope='stats'>
          <input type="text"   class="pure-input-1" placeholder='Name'>
          <input type="number" class="pure-input-1" placeholder='Calories' pattern="[\d]*">
          <input type="number" class="pure-input-1" placeholder='Protein' pattern="[\d]*">
        </fieldset>
      </form>
      <div class='button_pad'>
        <button type='button' class="pure-button pure-input-1 affirm" data-fn='edit'>Add / Modify</button>
        <button type='button' class="pure-button pure-input-1 cancel" data-fn='cancel'>Cancel</button>
      </div>

    </div>

    <!-- lib -->
    <script src='js/lib/routie.min.js'></script>
    <script src='js/lib/remotestorage.min.js'></script>
    <script src='js/lib/tinytim.min.js'></script>

    <!-- core -->
    <script src='js/database.js'></script>
    <script src='js/time.js'></script>
    <script src='js/view.js'></script>
    <script src='js/event.js'></script>

    <!-- module -->
    <script src='js/menu.js'></script>
    <script src='js/edit.js'></script>
    <script src='js/food.js'></script>
    <script src='js/nav.js'></script>

    <script>
      /* routing */ window.location = '#settings';  routie('*', function(name) {View(name);});
      /* startup */ Food.Global({db: Database.Read(Time.Day()), totals: Database.Totals(Time.Day()), mode: "add"});
    </script>

  </body>
</html>
